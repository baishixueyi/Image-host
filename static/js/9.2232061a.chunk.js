(this["webpackJsonpepic-image"]=this["webpackJsonpepic-image"]||[]).push([[9],{255:function(e,t,n){"use strict";n.r(t);var a,r,l,c=n(0),u=n.n(c),i=n(79),s=n(80),g=n(32),o=n(21),m=n(248),p=n(101),d=n(257),h=n(33),f=m.a.Dragger,b=h.a.div(a||(a=Object(g.a)(["\n    margin-top:30px;\n    border:1px dashed #ccc;\n    padding:20px;\n"]))),E=h.a.h1(r||(r=Object(g.a)(["\n    margin:20px 0;\n    text-align:center;\n"]))),j=h.a.img(l||(l=Object(g.a)(["\n    max-width:300px;\n"]))),v=Object(i.a)((function(){var e=Object(s.a)(),t=e.imageStore,n=e.userStore,a=Object(c.useRef)(),r=Object(c.useRef)(),l=Object(c.useRef)(),i=Object(c.useRef)(),g=Object(o.d)((function(){return{width:null,setWidth:function(e){g.width=e},get widthStr(){return g.width?"/w/".concat(g.width):""},height:null,setHeight:function(e){g.height=e},get heightStr(){return g.height?"/h/".concat(g.height):""},get fullStr(){return t.serverFile.attributes.url.attributes.url+"?imageView2/0"+g.widthStr+g.heightStr}}})),m={multiple:!0,showUploadList:!1,beforeUpload:function(e){return null===n.currentUser?(p.b.warning("\u8bf7\u5148\u767b\u5f55\u540e\u4e0a\u4f20"),!1):(console.log(e),/(png$)|(gif$)|(svg$)|(jpg$)|(jpeg$)/gi.test(e.type)?e.size>2097152?(p.b.error("\u56fe\u7247\u6700\u5927\u4e0a\u4f202M"),!1):(t.setFilename(e.name),t.setFile(e),t.upload().then((function(e){console.log("\u4e0a\u4f20\u6210\u529f"),console.log(e)})).catch((function(){console.log("\u4e0a\u4f20\u5931\u8d25")})),!1):(p.b.error("\u53ea\u80fd\u4e0a\u4f20png/gif/svg/jpg/jpeg\u683c\u5f0f\u7684\u56fe\u7247"),!1))}};return u.a.createElement("div",{style:{marginTop:"30px"}},u.a.createElement(f,m,u.a.createElement("p",{className:"ant-upload-drag-icon"},u.a.createElement(d.a,null)),u.a.createElement("p",{className:"ant-upload-text"},"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u4e0a\u4f20\u56fe\u7247"),u.a.createElement("p",{className:"ant-upload-hint"},"\u4ec5\u652f\u6301png/gif/svg/jpg/jpeg\u683c\u5f0f\u7684\u56fe\u7247\uff0c\u6700\u5927\u4e3a2M")),t.serverFile?u.a.createElement(b,null,u.a.createElement(E,null,"\u4e0a\u4f20\u7ed3\u679c"),u.a.createElement("dl",null,u.a.createElement("dt",null,"\u7ebf\u4e0a\u5730\u5740"),u.a.createElement("dd",null,u.a.createElement("input",{style:{width:"420px",marginRight:"10px"},ref:l,value:t.serverFile.attributes.url.attributes.url,onFocus:function(){l.current.select()}}),u.a.createElement("a",{target:"_blank",href:t.serverFile.attributes.url.attributes.url},"\u67e5\u770b\u539f\u56fe")),u.a.createElement("dt",null,"\u6587\u4ef6\u540d"),u.a.createElement("dd",null,t.filename),u.a.createElement("dt",null,"\u56fe\u7247\u9884\u89c8"),u.a.createElement("dd",null,u.a.createElement(j,{src:t.serverFile.attributes.url.attributes.url})),u.a.createElement("dt",null,"\u66f4\u591a\u5c3a\u5bf8"),u.a.createElement("dd",null,u.a.createElement("input",{ref:a,onChange:function(){g.setWidth(a.current.value)},placeholder:"\u6700\u5927\u5bbd\u5ea6\uff08\u53ef\u9009\uff09"}),u.a.createElement("input",{ref:r,onChange:function(){g.setHeight(r.current.value)},placeholder:"\u6700\u5927\u9ad8\u5ea6\uff08\u53ef\u9009\uff09"})),u.a.createElement("dd",null,u.a.createElement("input",{style:{width:"550px",marginRight:"10px"},ref:i,value:g.fullStr,onFocus:function(){i.current.select()}}),u.a.createElement("a",{target:"_blank",href:g.fullStr},"\u67e5\u770b\u56fe\u7247")))):null)})),w=n(254),x=Object(i.a)((function(){var e=Object(s.a)().userStore;return u.a.createElement(u.a.Fragment,null,e.currentUser?u.a.createElement(u.a.Fragment,null):u.a.createElement(w.a,{message:"\u8bf7\u5148\u767b\u5f55\u540e\u4e0a\u4f20\u56fe\u7247",type:"warning"}),u.a.createElement(v,null))}));t.default=x}}]);
//# sourceMappingURL=9.2232061a.chunk.js.map